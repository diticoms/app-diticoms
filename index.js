import Rt from"react";import{createRoot as zt}from"react-dom/client";import{useState as D,useEffect as _e,useCallback as Ue,useMemo as It}from"react";import{Settings as At,LogOut as Lt}from"lucide-react";import{useState as fe}from"react";import{User as Ge,Lock as Je}from"lucide-react";import{jsx as Xe}from"react/jsx-runtime";var W=({className:e="",size:l=64})=>Xe("img",{src:"public/logo.png",alt:"Logo",width:l,height:l,className:`${e} object-contain`,loading:"eager",onError:o=>{let h=o.target;h.src.indexOf("public/")!==-1&&(h.src="logo.png")}});import{jsx as L,jsxs as Y}from"react/jsx-runtime";var xe=({onLogin:e,isLoading:l})=>{let[o,h]=fe(""),[c,i]=fe("");return L("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6 font-sans text-sm",children:Y("div",{className:"max-w-md w-full bg-white rounded-[32px] shadow-lg border border-slate-100 p-8 space-y-8 relative overflow-hidden",children:[l&&L("div",{className:"absolute inset-0 bg-white/98 z-[100] flex flex-col items-center justify-center space-y-6",children:Y("div",{className:"relative flex flex-col items-center",children:[L(W,{size:80,className:"animate-pulse"}),L("div",{className:"mt-8 text-center",children:L("p",{className:"font-black text-blue-600 uppercase tracking-[0.3em] text-[10px]",children:"\u0110ANG T\u1EA2I..."})})]})}),Y("div",{className:"flex flex-col items-center text-center space-y-3",children:[L(W,{size:64,className:l?"animate-pulse":""}),Y("div",{children:[L("h1",{className:"text-xl font-bold text-slate-800 uppercase tracking-tight",children:"DITICOMS SERVICE"}),L("p",{className:"font-bold text-slate-400 uppercase tracking-widest text-[10px] mt-1",children:"H\u1EC7 th\u1ED1ng qu\u1EA3n l\xFD n\u1ED9i b\u1ED9"})]})]}),Y("form",{onSubmit:y=>{y.preventDefault(),o&&c&&e(o,c)},className:"space-y-4",children:[Y("div",{className:"relative",children:[L(Ge,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 z-10",size:18}),L("input",{type:"text",placeholder:"T\xEAn \u0111\u0103ng nh\u1EADp",className:"w-full pl-12 pr-5 py-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:bg-white focus:border-blue-400 font-medium",value:o,onChange:y=>h(y.target.value),required:!0,autoComplete:"username",spellCheck:"false"})]}),Y("div",{className:"relative",children:[L(Je,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 z-10",size:18}),L("input",{type:"password",placeholder:"M\u1EADt kh\u1EA9u",className:"w-full pl-12 pr-5 py-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:bg-white focus:border-blue-400 font-medium",value:c,onChange:y=>i(y.target.value),required:!0,autoComplete:"current-password"})]}),L("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 text-white font-bold py-5 rounded-2xl shadow-md active:bg-blue-700 transition-colors uppercase tracking-widest mt-2",children:"\u0110\u0102NG NH\u1EACP"})]}),L("div",{className:"pt-4 text-center border-t border-slate-50",children:L("p",{className:"font-bold text-slate-300 uppercase tracking-widest text-[9px]",children:"v1.0.44 \u2022 diticoms.vn"})})]})})};import{useState as Ne,useMemo as $e,useRef as le}from"react";import{Search as we,ChevronRight as Ke,Calendar as Ve,Filter as We,CheckCircle2 as Ye,Phone as Ze,MapPin as Qe,Download as et,Smartphone as tt}from"lucide-react";import*as ee from"xlsx";var me=()=>new Date().toISOString().split("T")[0];var B=e=>{let l=typeof e=="number"?e:parseInt(String(e).replace(/\D/g,""),10);return isNaN(l)?"0":l.toLocaleString("vi-VN")},oe=e=>{if(typeof e=="number")return e;let l=parseInt(e.replace(/\D/g,""),10);return isNaN(l)?0:l};function ve(e,l){let o;return(...h)=>{clearTimeout(o),o=setTimeout(()=>e(...h),l)}}import{Fragment as st,jsx as d,jsxs as p}from"react/jsx-runtime";var ye=({data:e,loading:l,technicians:o,selectedId:h,onSelectRow:c,filters:i,setFilters:m,currentUser:y,onInstallApp:x,installAvailable:v})=>{let R=y?.role==="admin",[O,E]=Ne(i.searchTerm),[T,P]=Ne(null),S=le(null),M=le(!1),J=le({x:0,y:0}),Z=le(!1),ae=$e(()=>ve(a=>m.setSearchTerm(a),300),[m]),_=a=>{E(a.target.value),ae(a.target.value)},j=()=>{if(e.length===0)return alert("Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u \u0111\u1EC3 xu\u1EA5t!");let a=e.map(n=>{let g=Number(n.revenue||0),F=Number(n.cost||0),N=g-F,ce=Number(n.debt||0);return{"Ng\xE0y nh\u1EADp":(n.created_at||"").split("T")[0],"Kh\xE1ch h\xE0ng":n.customerName,"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i":n.phone,"\u0110\u1ECBa ch\u1EC9":n.address,"K\u1EF9 thu\u1EADt vi\xEAn":n.technician||"Ch\u01B0a ph\xE2n c\xF4ng","N\u1ED9i dung d\u1ECBch v\u1EE5":n.content,"Doanh thu (\u0111)":g,"Gi\xE1 v\u1ED1n (\u0111)":F,"L\u1EE3i nhu\u1EADn (\u0111)":N,"C\xF4ng n\u1EE3 (\u0111)":ce,"Tr\u1EA1ng th\xE1i":n.status}}),k=ee.utils.json_to_sheet(a),A=ee.utils.book_new();ee.utils.book_append_sheet(A,k,"BaoCaoDichVu");let s=`Diticoms_Report_${new Date().toISOString().split("T")[0]}.xlsx`;ee.writeFile(A,s)},H=a=>{let k=`\u{1F4CC} TH\xD4NG TIN KH\xC1CH H\xC0NG
----------------------
\u{1F464} Kh\xE1ch: ${a.customerName}
\u{1F4DE} S\u0110T: ${a.phone}
\u{1F4CD} \u0110\u1ECBa ch\u1EC9: ${a.address||"Kh\xF4ng c\xF3"}
\u{1F4AC} Y\xEAu c\u1EA7u: ${a.content||"S\u1EEDa ch\u1EEFa thi\u1EBFt b\u1ECB"}
----------------------
\u{1F527} K\u1EF9 thu\u1EADt: ${a.technician||"Ch\u01B0a ph\xE2n c\xF4ng"}`;navigator.clipboard.writeText(k).then(()=>{P("\u0110\xE3 ch\xE9p th\xF4ng tin!"),setTimeout(()=>P(null),2e3)}).catch(A=>{console.error("L\u1ED7i copy:",A)})},Q=(a,k)=>{M.current=!1,Z.current=!1,J.current={x:a.clientX,y:a.clientY},S.current=setTimeout(()=>{Z.current||(M.current=!0,H(k))},600)},$=a=>{let k=Math.abs(a.clientX-J.current.x),A=Math.abs(a.clientY-J.current.y);(k>10||A>10)&&(Z.current=!0,S.current&&(clearTimeout(S.current),S.current=null))},ne=(a,k)=>{S.current&&(clearTimeout(S.current),S.current=null),!M.current&&!Z.current&&c(k)};return p("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex flex-col font-sans text-sm relative overflow-hidden lg:h-full",children:[T&&p("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-[100] bg-slate-900/95 backdrop-blur-md text-white px-5 py-2.5 rounded-full flex items-center gap-2 shadow-2xl animate-in fade-in zoom-in duration-200",children:[d(Ye,{size:16,className:"text-green-400"}),d("span",{className:"font-black text-[11px] uppercase tracking-widest",children:T})]}),p("div",{className:"space-y-3 mb-5 shrink-0",children:[p("div",{className:"relative group",children:[d(we,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-500 transition-colors",size:18}),d("input",{type:"text",placeholder:"T\xECm t\xEAn, S\u0110T ho\u1EB7c \u0111\u1ECBa ch\u1EC9...",className:"w-full pl-11 pr-4 py-2.5 bg-slate-50 border border-slate-50 rounded-xl outline-none focus:bg-white focus:border-blue-100 transition-all font-medium",value:O,onChange:_})]}),p("div",{className:"flex flex-wrap items-center gap-2",children:[p("button",{onClick:()=>m.setViewAll(!i.viewAll),className:`px-3 py-1.5 rounded-xl font-bold transition-all flex items-center gap-1.5 border shadow-sm text-[11px] ${i.viewAll?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-500 border-slate-200 hover:bg-slate-50"}`,children:[d(We,{size:14})," ",i.viewAll?"T\u1EA5t c\u1EA3":"L\u1ECDc Ng\xE0y"]}),!i.viewAll&&p("div",{className:"flex items-center gap-1 bg-white rounded-xl px-2 border border-slate-200 h-[34px] shadow-sm",children:[d(Ve,{size:12,className:"text-slate-400"}),d("input",{type:"date",className:"bg-transparent font-bold text-slate-600 outline-none w-[88px] text-[10px]",value:i.dateFrom,onChange:a=>m.setDateFrom(a.target.value)}),d("span",{className:"text-slate-300",children:"/"}),d("input",{type:"date",className:"bg-transparent font-bold text-slate-600 outline-none w-[88px] text-[10px]",value:i.dateTo,onChange:a=>m.setDateTo(a.target.value)})]}),p("div",{className:"flex items-center gap-2 ml-auto",children:[x&&p("button",{onClick:x,className:`h-[34px] px-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-sm active:scale-95 text-[10px] uppercase tracking-wider ${v?"bg-slate-800 text-white hover:bg-black":"bg-slate-100 text-slate-500"}`,children:[d(tt,{size:14})," ",v?"C\xC0I \u0110\u1EB6T APP":"T\u1EA2I APP"]}),p("button",{onClick:j,className:"h-[34px] px-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-sm active:scale-95 text-[10px] uppercase tracking-wider",children:[d(et,{size:14})," EXCEL"]})]})]})]}),d("div",{className:"flex-1 lg:overflow-y-auto space-y-2 pr-1 custom-scrollbar pb-2",children:l?p("div",{className:"py-12 flex flex-col items-center justify-center space-y-6",children:[d(W,{size:48,className:"animate-pulse"}),d("span",{className:"font-black text-slate-400 uppercase tracking-[0.2em] text-[10px]",children:"\u0110ang t\u1EA3i..."})]}):e.length===0?p("div",{className:"py-12 flex flex-col items-center justify-center text-slate-300 space-y-3",children:[d(we,{size:48,strokeWidth:1,className:"opacity-40"}),d("span",{className:"font-black uppercase tracking-widest text-[11px]",children:"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u"})]}):e.map(a=>p("div",{onPointerDown:k=>Q(k,a),onPointerMove:$,onPointerUp:k=>ne(k,a),className:`p-4 rounded-[24px] border transition-all cursor-pointer flex items-center justify-between group relative select-none touch-pan-y ${h===a.id?"bg-blue-50/80 border-blue-100 ring-2 ring-blue-50":"bg-white border-slate-50 hover:border-slate-200 hover:bg-slate-50/50"}`,children:[p("div",{className:"flex gap-3.5 items-center flex-1 min-w-0",children:[p("div",{className:"h-11 w-11 bg-slate-100/50 rounded-2xl flex flex-col items-center justify-center font-bold text-slate-500 group-hover:bg-blue-100 group-hover:text-blue-600 transition-colors text-[13px] shrink-0 shadow-sm",children:[d("span",{children:(a.created_at||"").split("T")[0]?.split("-")[2]||"--"}),p("span",{className:"opacity-60 text-[10px]",children:["T",(a.created_at||"").split("T")[0]?.split("-")[1]||"--"]})]}),p("div",{className:"min-w-0 flex-1",children:[d("div",{className:"font-bold text-slate-800 leading-tight mb-0.5 truncate text-[14px]",children:a.customerName}),d("div",{className:"flex flex-col gap-0.5 mb-1.5",children:p("div",{className:"flex items-center gap-1.5 text-[10px] text-slate-500 font-medium",children:[d(Ze,{size:10,className:"text-blue-400"}),d("span",{children:a.phone}),a.address&&p(st,{children:[d("span",{className:"text-slate-200",children:"|"}),d(Qe,{size:10,className:"text-red-400"}),d("span",{className:"truncate max-w-[120px]",children:a.address})]})]})}),p("div",{className:"flex items-center gap-2",children:[d("span",{className:"font-black text-slate-400 uppercase tracking-tighter text-[10px] truncate max-w-[90px]",children:a.technician||"CH\u01AFA PH\xC2N C\xD4NG"}),d("span",{className:`font-black px-2 py-0.5 rounded-lg uppercase tracking-widest text-[9px] ${a.status==="Ho\xE0n th\xE0nh"?"bg-green-100 text-green-600":a.status==="\u0110ang s\u1EEDa ch\u1EEFa"?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}`,children:a.status})]})]})]}),p("div",{className:"flex items-center gap-3 shrink-0 ml-3",children:[p("div",{className:"text-right",children:[p("div",{className:"font-black text-slate-800 text-[14px]",children:[B(a.revenue),"\u0111"]}),Number(a.debt)>0&&p("div",{className:"font-black text-red-500 text-[10px] mt-0.5",children:["N\u1EE3: ",B(a.debt)]})]}),d(Ke,{size:18,className:"text-slate-200 group-hover:text-blue-400 transition-all"})]}),h===a.id&&d("div",{className:"absolute left-0 top-4 bottom-4 w-1 bg-blue-500 rounded-r-full"})]},a.id))}),p("div",{className:"mt-2 pt-4 border-t border-slate-50 flex flex-wrap justify-between items-center gap-2 px-1 shrink-0",children:[p("span",{className:"font-black text-slate-400 uppercase tracking-widest text-[10px]",children:[i.viewAll?"T\u1ED5ng c\u1ED9ng: ":"Trong ng\xE0y: ",d("span",{className:"text-slate-700 ml-1 font-black",children:e.length})]}),p("span",{className:"font-black text-blue-600 bg-blue-50 px-4 py-2 rounded-2xl uppercase tracking-[0.1em] border border-blue-100 text-[11px] shadow-sm",children:["Thu: ",B(e.reduce((a,k)=>a+Number(k.revenue||0),0)),"\u0111"]})]})]})};import{useState as V,useRef as nt,useMemo as Ie}from"react";import{Plus as rt,Trash2 as Ae,Activity as ot,User as lt,Phone as it,MapPin as ct,ReceiptText as dt,MessageSquare as ut,Sparkles as Le,Loader2 as pt}from"lucide-react";var he="https://script.google.com/macros/s/AKfycbydOG7vnrXSXF6o0tLU843G_P2Jl9iOCcyuGAI7gRqhLrgmCvMgGj84HKPcfLFf1ZJL/exec",Se={sheetUrl:he,bankInfo:{bankId:"TCB",accountNo:"7929499999",accountName:"NGUYEN PHUOC DUC"}},se=["M\u1EDBi ti\u1EBFp nh\u1EADn","\u0110ang s\u1EEDa ch\u1EEFa","Ho\xE0n th\xE0nh"];import{GoogleGenAI as at,Type as U}from"@google/genai";var ke=()=>new at({apiKey:process.env.API_KEY}),Ce=async e=>{if(!e||e.length<5)throw new Error("M\xF4 t\u1EA3 qu\xE1 ng\u1EAFn \u0111\u1EC3 AI c\xF3 th\u1EC3 ch\u1EA9n \u0111o\xE1n.");let o=await ke().models.generateContent({model:"gemini-3-flash-preview",contents:`Kh\xE1ch h\xE0ng b\xE1o l\u1ED7i: "${e}". H\xE3y ph\xE2n t\xEDch l\u1ED7i k\u1EF9 thu\u1EADt n\xE0y v\xE0 \u0111\u1EC1 xu\u1EA5t c\xE1c d\u1ECBch v\u1EE5 ho\u1EB7c linh ki\u1EC7n thay th\u1EBF k\xE8m \u0111\u01A1n gi\xE1 ph\xF9 h\u1EE3p t\u1EA1i th\u1ECB tr\u01B0\u1EDDng Vi\u1EC7t Nam hi\u1EC7n nay.`,config:{responseMimeType:"application/json",responseSchema:{type:U.OBJECT,properties:{suggestions:{type:U.ARRAY,items:{type:U.OBJECT,properties:{desc:{type:U.STRING,description:"T\xEAn linh ki\u1EC7n ho\u1EB7c d\u1ECBch v\u1EE5 \u0111\u1EC1 xu\u1EA5t"},qty:{type:U.NUMBER,description:"S\u1ED1 l\u01B0\u1EE3ng"},price:{type:U.NUMBER,description:"\u0110\u01A1n gi\xE1 d\u1EF1 ki\u1EBFn (VN\u0110)"}},required:["desc","qty","price"]}}},required:["suggestions"]},systemInstruction:"B\u1EA1n l\xE0 m\u1ED9t chuy\xEAn gia s\u1EEDa ch\u1EEFa m\xE1y t\xEDnh v\xE0 thi\u1EBFt b\u1ECB \u0111i\u1EC7n t\u1EED c\u1EE7a Diticoms. B\u1EA1n ch\u1EC9 tr\u1EA3 v\u1EC1 d\u1EEF li\u1EC7u d\u01B0\u1EDBi d\u1EA1ng JSON \u0111\u1EC3 h\u1EC7 th\u1ED1ng t\u1EF1 \u0111\u1ED9ng \u0111i\u1EC1n v\xE0o h\xF3a \u0111\u01A1n."}});try{let h=o.text||"{}";return JSON.parse(h).suggestions||[]}catch(h){return console.error("L\u1ED7i ph\xE2n t\xEDch JSON t\u1EEB AI:",h),[]}},Te=async(e,l)=>{let o=ke(),h=l.map(i=>({khach_hang:i.customerName,ngay:i.created_at?.split("T")[0],trang_thai:i.status,ky_thuat:i.technician,doanh_thu:Number(i.revenue||0),noi_dung:i.content})),c=await o.models.generateContent({model:"gemini-3-flash-preview",contents:`C\xE2u h\u1ECFi t\u1EEB qu\u1EA3n l\xFD: "${e}"

D\u1EEF li\u1EC7u phi\u1EBFu d\u1ECBch v\u1EE5 hi\u1EC7n c\xF3: ${JSON.stringify(h.slice(0,50))}`,config:{responseMimeType:"application/json",responseSchema:{type:U.OBJECT,properties:{answer:{type:U.STRING,description:"C\xE2u tr\u1EA3 l\u1EDDi ph\xE2n t\xEDch ho\u1EB7c th\u1ED1ng k\xEA"},filterUpdate:{type:U.OBJECT,properties:{searchTerm:{type:U.STRING,description:"T\u1EEB kh\xF3a c\u1EA7n t\xECm n\u1EBFu ng\u01B0\u1EDDi d\xF9ng y\xEAu c\u1EA7u l\u1ECDc"},status:{type:U.STRING,description:"Tr\u1EA1ng th\xE1i c\u1EA7n l\u1ECDc"},viewAll:{type:U.BOOLEAN,description:"B\u1EADt ch\u1EBF \u0111\u1ED9 xem t\u1EA5t c\u1EA3 n\u1EBFu c\u1EA7n"}}}},required:["answer"]},systemInstruction:"B\u1EA1n l\xE0 tr\u1EE3 l\xFD d\u1EEF li\u1EC7u th\xF4ng minh c\u1EE7a Diticoms. B\u1EA1n gi\xFAp nh\xE2n vi\xEAn th\u1ED1ng k\xEA doanh thu, t\xECm ki\u1EBFm kh\xE1ch h\xE0ng ho\u1EB7c l\u1ECDc tr\u1EA1ng th\xE1i c\xF4ng vi\u1EC7c. Tr\u1EA3 l\u1EDDi ng\u1EAFn g\u1ECDn, chuy\xEAn nghi\u1EC7p."}});try{let i=c.text||"{}";return JSON.parse(i)}catch{return{answer:"Xin l\u1ED7i, t\xF4i g\u1EB7p tr\u1EE5c tr\u1EB7c khi truy xu\u1EA5t d\u1EEF li\u1EC7u."}}};import{Fragment as mt,jsx as r,jsxs as f}from"react/jsx-runtime";var Pe=({formData:e,setFormData:l,technicians:o,priceList:h,selectedId:c,isSubmitting:i,currentUser:m,onSave:y,onUpdate:x,onDelete:v,onClear:R,services:O,bankInfo:E})=>{let T=m?.role==="admin",[P,S]=V(!1),[M,J]=V(!1),[Z,ae]=V(!1),[_,j]=V(!1),[H,Q]=V(null),[$,ne]=V(null),[a,k]=V(null),[A,s]=V(!1),n=nt(null),g=Ie(()=>{let t={};return[...O].sort((b,u)=>new Date(u.created_at).getTime()-new Date(b.created_at).getTime()).forEach(b=>{let u=String(b.phone||"").trim();u.length>=3&&(t[u]||(t[u]={name:b.customerName||"",address:b.address||""}))}),Object.entries(t).map(([b,u])=>({phone:b,...u}))},[O]),F=Ie(()=>{let t=e.phone.trim();return t.length<3?[]:g.filter(w=>w.phone.includes(t)).slice(0,5)},[g,e.phone]),N=(t,w)=>{l(b=>{let u={...b,[t]:w};return t==="status"&&(w==="Ho\xE0n th\xE0nh"?u.debt=0:u.debt=u.revenue),u})},ce=t=>{l(w=>({...w,phone:t.phone,customerName:t.name,address:t.address})),S(!1)},de=(t,w,b)=>{l(u=>{let K=[...u.workItems],re={...K[t],[w]:b},He=oe(w==="price"?b:re.price),qe=Number(w==="qty"?b:re.qty);re.total=He*qe,K[t]=re;let be=K.reduce((je,Be)=>je+(Number(Be.total)||0),0);return{...u,workItems:K,revenue:be,debt:u.status==="Ho\xE0n th\xE0nh"?0:be}})},Fe=async()=>{if(!e.content||e.content.length<5){ge("Vui l\xF2ng nh\u1EADp m\xF4 t\u1EA3 l\u1ED7i chi ti\u1EBFt");return}s(!0);try{let t=await Ce(e.content);if(t&&t.length>0){let w=t.map(u=>({desc:u.desc,qty:u.qty,price:u.price,total:u.qty*u.price})),b=w.reduce((u,K)=>u+K.total,0);l(u=>({...u,workItems:w,revenue:b,debt:u.status==="Ho\xE0n th\xE0nh"?0:b})),ge("AI \u0111\xE3 ph\xE2n t\xEDch v\xE0 b\xE1o gi\xE1 xong!")}}catch(t){alert(t.message||"L\u1ED7i AI")}finally{s(!1)}},ge=t=>{k(t),setTimeout(()=>k(null),3e3)},ue="w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-xl outline-none focus:bg-white focus:border-blue-400 font-medium transition-all text-slate-800",pe="w-full p-2 bg-white border border-slate-100 rounded-xl outline-none focus:border-blue-400 font-black text-slate-800 text-[10px] text-center";return f("div",{className:"space-y-6",children:[a&&f("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 z-[10001] bg-slate-900/90 backdrop-blur-md text-white px-6 py-3 rounded-full text-[11px] font-black uppercase tracking-widest animate-in fade-in zoom-in shadow-2xl flex items-center gap-2",children:[r(Le,{size:14,className:"text-yellow-400"}),a]}),f("div",{className:"flex justify-between items-center",children:[f("h2",{className:"font-bold text-slate-700 flex items-center gap-2 uppercase tracking-wider text-sm",children:[r(ot,{size:18,className:"text-blue-500"})," ",c?"C\u1EADp nh\u1EADt phi\u1EBFu":"Ti\u1EBFp nh\u1EADn m\u1EDBi"]}),c&&T&&r("button",{onClick:v,disabled:i,className:"text-red-400 p-2 hover:bg-red-50 rounded-full transition-colors",children:r(Ae,{size:20})})]}),f("div",{className:"space-y-3",children:[f("div",{className:"relative",children:[r(it,{className:"absolute left-3.5 top-3 text-slate-400 z-10",size:16}),r("input",{type:"tel",placeholder:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",className:ue,value:e.phone,onChange:t=>{N("phone",t.target.value),S(!0)},onFocus:()=>S(!0),onBlur:()=>setTimeout(()=>S(!1),200)}),P&&F.length>0&&r("div",{className:"absolute top-full left-0 right-0 bg-white border border-slate-200 shadow-2xl z-[60] max-h-56 overflow-auto rounded-2xl mt-1 animate-in fade-in zoom-in duration-150",children:F.map((t,w)=>r("div",{onMouseDown:()=>ce(t),className:"p-3 hover:bg-blue-50 cursor-pointer border-b last:border-0 transition-colors flex flex-col",children:f("div",{className:"flex justify-between items-center",children:[r("span",{className:"font-black text-blue-600 text-xs",children:t.phone}),r("span",{className:"font-bold text-slate-800 text-xs",children:t.name})]})},w))})]}),f("div",{className:"relative",children:[r(lt,{className:"absolute left-3.5 top-3 text-slate-400 z-10",size:16}),r("input",{type:"text",placeholder:"T\xEAn kh\xE1ch h\xE0ng",className:ue,value:e.customerName,onChange:t=>N("customerName",t.target.value)})]}),f("div",{className:"relative",children:[r(ct,{className:"absolute left-3.5 top-3 text-slate-400 z-10",size:16}),r("input",{type:"text",placeholder:"\u0110\u1ECBa ch\u1EC9",className:ue,value:e.address,onChange:t=>N("address",t.target.value)})]}),f("div",{className:"relative group",children:[r(ut,{className:"absolute left-3.5 top-3.5 text-slate-400 z-10",size:16}),r("textarea",{placeholder:"M\xF4 t\u1EA3 l\u1ED7i c\u1EE7a kh\xE1ch h\xE0ng...",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-100 rounded-xl min-h-[100px] focus:bg-white focus:border-blue-400 outline-none transition-all",value:e.content,onChange:t=>N("content",t.target.value)}),f("button",{onClick:Fe,disabled:A||!e.content,className:`absolute right-3 bottom-3 flex items-center gap-2 px-4 py-2 rounded-xl font-black text-[10px] uppercase tracking-wider transition-all shadow-md ${A?"bg-slate-200 text-slate-400":"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 text-white hover:shadow-indigo-200 hover:scale-105 active:scale-95"}`,children:[A?r(pt,{size:14,className:"animate-spin"}):r(Le,{size:14}),"AI Ch\u1EA9n \u0111o\xE1n"]})]}),f("div",{className:"grid grid-cols-2 gap-3",children:[r("select",{className:"w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl font-bold text-slate-700 outline-none",value:e.status,onChange:t=>N("status",t.target.value),children:se.map(t=>r("option",{value:t,children:t},t))}),f("select",{className:"w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl font-bold text-slate-700 outline-none",value:e.technician,onChange:t=>N("technician",t.target.value),disabled:!T,children:[r("option",{value:"",children:"K\u1EF9 thu\u1EADt vi\xEAn"}),o.map(t=>r("option",{value:t,children:t},t))]})]}),f("div",{className:"pt-2",children:[f("div",{className:"flex justify-between items-center mb-2 px-1",children:[r("span",{className:"font-black text-slate-400 text-[10px] uppercase tracking-widest",children:"Danh s\xE1ch d\u1ECBch v\u1EE5"}),r("button",{onClick:()=>l(t=>({...t,workItems:[...t.workItems,{desc:"",qty:1,price:"",total:0}]})),className:"text-blue-500 p-1 hover:bg-blue-50 rounded-lg",children:r(rt,{size:18})})]}),r("div",{className:"space-y-2",children:e.workItems.map((t,w)=>f("div",{className:"p-3 bg-slate-50/50 border border-slate-100 rounded-2xl space-y-2 group hover:border-blue-100 transition-all",children:[r("input",{type:"text",placeholder:"T\xEAn d\u1ECBch v\u1EE5/linh ki\u1EC7n...",className:"w-full bg-transparent font-bold text-slate-800 outline-none border-b border-transparent focus:border-blue-200",value:t.desc,onChange:b=>de(w,"desc",b.target.value)}),f("div",{className:"flex gap-2 text-[11px] font-bold",children:[f("div",{className:"flex-1 bg-white border border-slate-100 p-1.5 rounded-lg flex items-center gap-1",children:["SL: ",r("input",{type:"number",className:"w-full outline-none font-black text-center bg-transparent",value:t.qty,onChange:b=>de(w,"qty",b.target.value)})]}),r("div",{className:"flex-[2] bg-white border border-slate-100 p-1.5 rounded-lg px-2 text-right",children:r("input",{type:"text",className:"w-full outline-none font-black text-right text-blue-600 bg-transparent",value:B(t.price),onChange:b=>de(w,"price",b.target.value)})}),r("button",{onClick:()=>l(b=>({...b,workItems:b.workItems.filter((u,K)=>K!==w)})),className:"text-slate-300 hover:text-red-400 p-1",children:r(Ae,{size:16})})]})]},w))})]}),r("div",{className:"pt-4 space-y-2 bg-slate-100/40 p-4 rounded-[32px] border border-slate-100",children:f("div",{className:"grid grid-cols-3 gap-3",children:[f("div",{className:"flex flex-col gap-1 text-center",children:[r("span",{className:"text-[9px] font-black text-blue-500 uppercase",children:"Doanh thu"}),r("input",{type:"text",className:`${pe} text-blue-600 bg-slate-50`,value:B(e.revenue),readOnly:!0})]}),f("div",{className:"flex flex-col gap-1 text-center",children:[r("span",{className:"text-[9px] font-black text-orange-500 uppercase",children:"Gi\xE1 v\u1ED1n"}),r("input",{type:"text",className:`${pe} text-orange-600`,value:B(e.cost),onChange:t=>N("cost",oe(t.target.value))})]}),f("div",{className:"flex flex-col gap-1 text-center",children:[r("span",{className:"text-[9px] font-black text-red-500 uppercase",children:"C\xF4ng n\u1EE3"}),r("input",{type:"text",className:`${pe} text-red-600`,value:B(e.debt),onChange:t=>N("debt",oe(t.target.value))})]})]})})]}),r("div",{className:"grid grid-cols-2 gap-3 pt-4",children:c?f(mt,{children:[r("button",{disabled:i,onClick:x,className:"bg-blue-600 hover:bg-blue-700 text-white font-black py-4 rounded-2xl uppercase text-[12px] active:scale-95 transition-all",children:"C\u1EACP NH\u1EACT"}),r("button",{onClick:R,className:"bg-slate-100 text-slate-600 font-black py-4 rounded-2xl uppercase text-[12px] active:scale-95 transition-all",children:"TI\u1EBEP M\u1EDAI"})]}):r("button",{disabled:i,onClick:y,className:"col-span-2 bg-blue-600 hover:bg-blue-700 text-white font-black py-4 rounded-2xl shadow-lg uppercase tracking-widest text-[12px] active:scale-95 transition-all",children:i?"\u0110ANG L\u01AFU...":"L\u01AFU PHI\u1EBEU M\u1EDAI"})}),c&&f("button",{onClick:()=>J(!0),className:"w-full bg-slate-800 hover:bg-slate-900 text-white font-black py-4 rounded-2xl uppercase shadow-md flex items-center justify-center gap-3 text-[12px] transition-all",children:[r(dt,{size:20})," XU\u1EA4T H\xD3A \u0110\u01A0N"]})]})};import{useState as ht}from"react";import{X as gt,Save as bt,CreditCard as ft,RefreshCw as xt,Loader2 as vt}from"lucide-react";import{jsx as z,jsxs as X}from"react/jsx-runtime";var Re=({config:e,onSave:l,onClose:o,isAdmin:h,onCheckUpdate:c,isCheckingUpdate:i})=>{let[m,y]=ht({...e});return z("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:X("div",{className:"bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl space-y-6",children:[X("div",{className:"flex justify-between items-center",children:[z("h3",{className:"font-black text-slate-900 uppercase tracking-tight",children:"C\u1EA5u h\xECnh h\u1EC7 th\u1ED1ng"}),z("button",{onClick:o,className:"p-2 bg-slate-100 rounded-full text-slate-400 hover:text-slate-600",children:z(gt,{size:20})})]}),X("div",{className:"space-y-4",children:[X("div",{className:"space-y-3",children:[X("label",{className:"text-[10px] font-bold text-slate-400 uppercase ml-1 flex items-center gap-2",children:[z(ft,{size:12})," Th\xF4ng tin ng\xE2n h\xE0ng"]}),X("div",{className:"grid grid-cols-2 gap-3",children:[z("input",{placeholder:"ID Ng\xE2n h\xE0ng",className:"p-3 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-blue-500 text-xs",value:m.bankInfo?.bankId,onChange:x=>y(v=>({...v,bankInfo:{...v.bankInfo,bankId:x.target.value}}))}),z("input",{placeholder:"S\u1ED1 t\xE0i kho\u1EA3n",className:"p-3 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-blue-500 text-xs",value:m.bankInfo?.accountNo,onChange:x=>y(v=>({...v,bankInfo:{...v.bankInfo,accountNo:x.target.value}}))}),z("input",{placeholder:"Ch\u1EE7 t\xE0i kho\u1EA3n",className:"col-span-2 p-3 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-blue-500 text-xs",value:m.bankInfo?.accountName,onChange:x=>y(v=>({...v,bankInfo:{...v.bankInfo,accountName:x.target.value.toUpperCase()}}))})]})]}),c&&z("div",{className:"pt-2",children:X("button",{onClick:c,disabled:i,className:"w-full flex items-center justify-center gap-2 py-2.5 px-4 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-2xl text-[10px] font-bold uppercase transition-colors",children:[i?z(vt,{size:14,className:"animate-spin"}):z(xt,{size:14}),"Ki\u1EC3m tra c\u1EADp nh\u1EADt t\u1EEB GitHub"]})})]}),X("div",{className:"flex gap-3",children:[X("button",{onClick:()=>l(m),className:"flex-1 bg-blue-600 text-white font-bold py-3 rounded-2xl flex items-center justify-center gap-2 shadow-lg shadow-blue-100",children:[z(bt,{size:18})," L\u01AFU C\u1EA4U H\xCCNH"]}),z("button",{onClick:o,className:"px-6 bg-slate-100 text-slate-600 font-bold rounded-2xl",children:"H\u1EE6Y"})]})]})})};import{useState as ie,useRef as Nt,useEffect as wt}from"react";import{Send as yt,X as ze,Sparkles as St,Loader2 as kt,Bot as Ct}from"lucide-react";import{Fragment as Tt,jsx as C,jsxs as q}from"react/jsx-runtime";var Ee=({services:e,onApplyFilter:l})=>{let[o,h]=ie(!1),[c,i]=ie(""),[m,y]=ie([{role:"bot",text:"Ch\xE0o b\u1EA1n! T\xF4i c\xF3 th\u1EC3 gi\xFAp b\u1EA1n t\xECm ki\u1EBFm kh\xE1ch h\xE0ng, l\u1ECDc tr\u1EA1ng th\xE1i ho\u1EB7c th\u1ED1ng k\xEA doanh thu nhanh ch\xF3ng. B\u1EA1n c\u1EA7n g\xEC?"}]),[x,v]=ie(!1),R=Nt(null);wt(()=>{R.current&&(R.current.scrollTop=R.current.scrollHeight)},[m,x]);let O=async E=>{if(E?.preventDefault(),!c.trim()||x)return;let T=c.trim();y(P=>[...P,{role:"user",text:T}]),i(""),v(!0);try{let P=await Te(T,e);y(S=>[...S,{role:"bot",text:P.answer}]),P.filterUpdate&&l(P.filterUpdate)}catch(P){y(S=>[...S,{role:"bot",text:"L\u1ED7i k\u1EBFt n\u1ED1i AI: "+P.message}])}finally{v(!1)}};return q("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col items-end",children:[o&&q("div",{className:"w-[340px] h-[480px] bg-white rounded-[32px] shadow-2xl border border-slate-100 flex flex-col mb-4 animate-in slide-in-from-bottom overflow-hidden",children:[q("div",{className:"bg-blue-600 p-5 text-white flex justify-between items-center shrink-0",children:[q("div",{className:"flex items-center gap-3",children:[C("div",{className:"p-2 bg-white/20 rounded-xl",children:C(St,{size:18})}),q("div",{children:[C("h3",{className:"font-black text-xs uppercase tracking-widest",children:"DITI AI Assistant"}),q("div",{className:"flex items-center gap-1.5 mt-0.5",children:[C("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse"}),C("span",{className:"text-[9px] font-bold text-blue-100 uppercase",children:"S\u1EB5n s\xE0ng h\u1ED7 tr\u1EE3"})]})]})]}),C("button",{onClick:()=>h(!1),className:"p-2 hover:bg-black/10 rounded-full transition-colors",children:C(ze,{size:20})})]}),q("div",{ref:R,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 custom-scrollbar",children:[m.map((E,T)=>C("div",{className:`flex ${E.role==="user"?"justify-end":"justify-start"}`,children:C("div",{className:`max-w-[85%] p-3.5 rounded-2xl text-[12px] font-medium shadow-sm leading-relaxed ${E.role==="user"?"bg-blue-600 text-white rounded-br-none":"bg-white text-slate-800 border border-slate-100 rounded-bl-none"}`,children:E.text})},T)),x&&C("div",{className:"flex justify-start",children:q("div",{className:"bg-white border border-slate-100 p-3.5 rounded-2xl rounded-bl-none flex items-center gap-3",children:[C(kt,{size:14,className:"animate-spin text-blue-600"}),C("span",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest",children:"\u0110ang ph\xE2n t\xEDch..."})]})})]}),q("form",{onSubmit:O,className:"p-4 bg-white border-t border-slate-50 flex gap-2",children:[C("input",{type:"text",placeholder:"Nh\u1EADp y\xEAu c\u1EA7u (VD: Th\u1ED1ng k\xEA doanh thu)",className:"flex-1 bg-slate-50 border-none rounded-xl px-4 py-3 text-xs font-medium focus:ring-2 focus:ring-blue-500/20 transition-all outline-none",value:c,onChange:E=>i(E.target.value),disabled:x}),C("button",{type:"submit",disabled:x||!c.trim(),className:"bg-blue-600 text-white p-3 rounded-xl shadow-lg shadow-blue-100 active:scale-90 transition-all disabled:opacity-50",children:C(yt,{size:18})})]})]}),C("button",{onClick:()=>h(!o),className:`w-14 h-14 rounded-full flex items-center justify-center shadow-2xl transition-all active:scale-90 group relative ${o?"bg-slate-800 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,children:o?C(ze,{size:24}):q(Tt,{children:[C(Ct,{size:28}),C("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full border-2 border-white flex items-center justify-center text-[10px] font-bold",children:"1"})]})})]})};async function G(e,l,o={},h=0){if(!e||!e.startsWith("http"))throw new Error("C\u1EA5u h\xECnh URL Server kh\xF4ng h\u1EE3p l\u1EC7.");try{let m=new AbortController,y=setTimeout(()=>m.abort(),2e4),x=await fetch(e,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({...o,action:l}),signal:m.signal});if(clearTimeout(y),!x.ok)throw new Error(`HTTP ${x.status}`);let v=await x.text();if(!v)throw new Error("Server ph\u1EA3n h\u1ED3i r\u1ED7ng.");let R=v.match(/(\{[\s\S]*\}|\[[\s\S]*\])/);return JSON.parse(R?R[0]:v)}catch(m){if(h<1&&(m.name==="AbortError"||m.message.includes("HTTP")))return G(e,l,o,h+1);throw m}}import{jsx as I,jsxs as te}from"react/jsx-runtime";var Pt=()=>{let[e,l]=D(()=>{let s=localStorage.getItem("diti_user");return s?JSON.parse(s):null}),[o,h]=D(()=>{let s=localStorage.getItem("diti_config");return{...s?JSON.parse(s):Se,sheetUrl:he}}),[c,i]=D(()=>{let s=localStorage.getItem("diti_services_cache");return s?JSON.parse(s):[]}),[m,y]=D([]),[x,v]=D([]),[R,O]=D(!1),[E,T]=D(!1),[P,S]=D(!1),[M,J]=D(null),[Z,ae]=D(null),[_,j]=D({dateFrom:me(),dateTo:me(),searchTerm:"",searchTech:"",viewAll:!1}),[H,Q]=D({customerName:"",phone:"",address:"",status:se[0],technician:"",content:"",workItems:[{desc:"",qty:1,price:"",total:0}],revenue:0,cost:0,debt:0});_e(()=>{let s=n=>{n.preventDefault(),ae(n)};return window.addEventListener("beforeinstallprompt",s),()=>window.removeEventListener("beforeinstallprompt",s)},[]);let $=Ue(async()=>{if(e){O(c.length===0);try{let[s,n,g]=await Promise.all([G(o.sheetUrl,"read"),G(o.sheetUrl,"read_settings"),G(o.sheetUrl,"read_pricelist")]);if(Array.isArray(s)){let F=s.map(N=>({...N,customerName:N.customer_name||N.customerName||"",workItems:typeof N.work_items=="string"?JSON.parse(N.work_items):N.work_items||[],revenue:Number(N.revenue||0),cost:Number(N.cost||0),debt:Number(N.debt||0),created_at:N.created_at||N.date||new Date().toISOString()}));i(F),localStorage.setItem("diti_services_cache",JSON.stringify(F))}if(n?.technicians){let F=typeof n.technicians=="string"?JSON.parse(n.technicians):n.technicians;y(Array.isArray(F)?F:[])}Array.isArray(g)&&v(g)}catch(s){console.error("Fetch Error:",s)}finally{O(!1)}}},[e,o.sheetUrl,c.length]);_e(()=>{e&&$()},[e,$]);let ne=It(()=>{let s=[...c];if(e?.role!=="admin"&&e?.associatedTech&&(s=s.filter(n=>n.technician===e.associatedTech)),_.viewAll||(s=s.filter(n=>{let g=(n.created_at||"").split("T")[0];return g>=_.dateFrom&&g<=_.dateTo})),_.searchTech&&(s=s.filter(n=>n.technician===_.searchTech)),_.searchTerm){let n=_.searchTerm.toLowerCase();s=s.filter(g=>(g.customerName||"").toLowerCase().includes(n)||(g.phone||"").includes(n)||(g.address||"").toLowerCase().includes(n)||(g.status||"").toLowerCase().includes(n))}return s.sort((n,g)=>new Date(g.created_at).getTime()-new Date(n.created_at).getTime())},[c,_,e]),a=async(s,n)=>{O(!0);try{let g=await G(o.sheetUrl,"login",{username:s,password:n});g?.status==="success"&&g.user?(l(g.user),localStorage.setItem("diti_user",JSON.stringify(g.user))):alert(g?.error||"Sai th\xF4ng tin")}catch{alert("L\u1ED7i k\u1EBFt n\u1ED1i")}finally{O(!1)}},k=()=>{confirm("\u0110\u0103ng xu\u1EA5t?")&&(l(null),localStorage.clear(),window.location.reload())},A=Ue(()=>{J(null),Q({customerName:"",phone:"",address:"",status:se[0],technician:e?.associatedTech||"",content:"",workItems:[{desc:"",qty:1,price:"",total:0}],revenue:0,cost:0,debt:0})},[e]);return e?te("div",{className:"flex flex-col min-h-screen bg-slate-50 font-sans",children:[I("header",{className:"sticky top-0 z-40 bg-white border-b px-4 py-3 shadow-sm",children:te("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[te("div",{className:"flex items-center gap-3",children:[I(W,{size:32}),te("div",{children:[I("h1",{className:"font-bold text-slate-800 text-[12px] uppercase",children:"DITICOMS SERVICE"}),I("span",{className:"text-slate-400 text-[10px] uppercase font-bold",children:e.name})]})]}),te("div",{className:"flex gap-2",children:[I("button",{onClick:()=>S(!0),className:"p-2 text-slate-400 hover:text-blue-500",children:I(At,{size:18})}),I("button",{onClick:k,className:"p-2 text-red-400",children:I(Lt,{size:18})})]})]})}),I("main",{className:"flex-1 lg:h-[calc(100vh-64px)] overflow-y-auto lg:overflow-hidden",children:te("div",{className:"max-w-7xl mx-auto p-4 lg:p-6 h-full grid grid-cols-1 lg:grid-cols-12 gap-6 relative",children:[I("div",{className:"lg:col-span-5 h-full bg-white rounded-2xl shadow-sm border overflow-hidden flex flex-col",children:I("div",{className:"flex-1 overflow-y-auto p-5 custom-scrollbar",children:I(Pe,{formData:H,setFormData:Q,technicians:m,priceList:x,selectedId:M,isSubmitting:E,currentUser:e,services:c,bankInfo:o.bankInfo,onClear:A,onSave:async()=>{T(!0);try{(await G(o.sheetUrl,"create",{...H,customer_name:H.customerName,work_items:H.workItems,id:Date.now().toString(),created_at:new Date().toISOString()}))?.status==="success"&&(await $(),A(),alert("L\u01B0u phi\u1EBFu th\xE0nh c\xF4ng"))}catch{alert("L\u1ED7i l\u01B0u phi\u1EBFu")}finally{T(!1)}},onUpdate:async()=>{if(M){T(!0);try{await G(o.sheetUrl,"update",{...H,customer_name:H.customerName,work_items:H.workItems,id:M}),await $(),A(),alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng")}catch{alert("L\u1ED7i c\u1EADp nh\u1EADt")}finally{T(!1)}}},onDelete:async()=>{if(!(!M||!confirm("X\xF3a?"))){T(!0);try{await G(o.sheetUrl,"delete",{id:M,role:e.role}),await $(),A()}catch{alert("L\u1ED7i x\xF3a")}finally{T(!1)}}}})})}),I("div",{className:"lg:col-span-7 h-full flex flex-col min-h-[500px]",children:I(ye,{data:ne,loading:R,technicians:m,selectedId:M,onSelectRow:s=>{J(s.id),Q({...s}),window.innerWidth<1024&&window.scrollTo({top:0,behavior:"smooth"})},filters:_,setFilters:{setDateFrom:s=>j(n=>({...n,dateFrom:s,viewAll:!1})),setDateTo:s=>j(n=>({...n,dateTo:s,viewAll:!1})),setSearchTerm:s=>j(n=>({...n,searchTerm:s})),setSearchTech:s=>j(n=>({...n,searchTech:s})),setViewAll:s=>j(n=>({...n,viewAll:s}))},currentUser:e})})]})}),I(Ee,{services:c,onApplyFilter:s=>{j(n=>({...n,...s}))}}),P&&I(Re,{config:o,isAdmin:e.role==="admin",onClose:()=>S(!1),onSave:s=>{h(s),localStorage.setItem("diti_config",JSON.stringify(s)),S(!1)}})]}):I(xe,{onLogin:a,isLoading:R})},De=Pt;import{jsx as Me}from"react/jsx-runtime";var Et=()=>{typeof window.removeSplash=="function"&&window.removeSplash()},Oe=document.getElementById("root");Oe&&(Et(),zt(Oe).render(Me(Rt.StrictMode,{children:Me(De,{})})));
